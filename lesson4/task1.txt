SHOW TABLES;

SELECT * FROM users LIMIT 10;

UPDATE users SET updated_at = NOW() WHERE updated_at < created_at;


SELECT * FROM profiles LIMIT 10;

UPDATE profiles SET updated_at = NOW() WHERE updated_at < created_at;


SELECT * FROM  messages m LIMIT 10;

UPDATE messages SET updated_at = NOW() WHERE updated_at < created_at;

UPDATE messages SET 
  from_user_id = FLOOR(1 + RAND() * 100),
  to_user_id = FLOOR(1 + RAND() * 100);
 

SELECT * FROM  media LIMIT 10; 

ALTER TABLE media RENAME COLUMN filename TO filepath;


CREATE TEMPORARY TABLE extensions (name VARCHAR(10));

INSERT INTO extensions VALUES ('jpeg'), ('avi'), ('mpeg'), ('png');

SELECT * FROM extensions;


UPDATE media SET filepath = CONCAT(
  filepath,
  (SELECT last_name FROM users ORDER BY RAND() LIMIT 1),
  '.',
  (SELECT name FROM extensions ORDER BY RAND() LIMIT 1)
);

UPDATE media SET size = FLOOR(10000 + (RAND() * 1000000)) WHERE size < 1000;

UPDATE media SET metadata = CONCAT('{"owner":"', 
  (SELECT CONCAT(first_name, ' ', last_name) FROM users WHERE id = user_id),
  '"}'); 

ALTER TABLE media MODIFY COLUMN metadata JSON;

UPDATE media SET updated_at = NOW() WHERE updated_at < created_at;

SELECT * FROM  media_types; 

TRUNCATE media_types; 

INSERT INTO media_types (name) VALUES ('audio'), ('video'), ('photo');


SELECT * FROM  media LIMIT 10; 

UPDATE media SET media_type_id = FLOOR(1 + RAND() * 3);

SELECT * FROM  friendship LIMIT 10; 

UPDATE friendship SET updated_at = NOW() WHERE updated_at < created_at;

UPDATE friendship SET updated_at = NOW() WHERE requested_at < confirmed_at;

SELECT * FROM  friendship_statuses;

TRUNCATE friendship_statuses;

INSERT INTO friendship_statuses (name) VALUES
  ('Requested'),
  ('Confirmed'),
  ('Rejected');
 
 UPDATE friendship SET status_id = FLOOR(1 + RAND() * 3);

DESC communities;
 
SELECT * FROM  communities;

DELETE FROM communities WHERE id > 20;

SELECT * FROM communities_users;

UPDATE communities_users SET community_id = FLOOR(1 + RAND() * 20),
                             user_id = FLOOR(1 + RAND() * 100);